{"version":3,"sources":["webpack:///./templates/imageTemplate.hbs","webpack:///./apiService.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","webformatURL","tags","largeImageURL","likes","views","comments","downloads","APIKEY","baseUrl","fetchImages","query","page","fetch","then","response","json","catch","error","console","galleryList","document","querySelector","form","moreButton","addEventListener","e","elements","value","preventDefault","hits","arr","length","PNotify","text","closeAll","markUp","map","images","imageTemplate","join","innerHTML","classList","remove","OurFirstMarkup","additionalMarkup","insertAdjacentHTML","addMoreMarkup","markup","window","scrollTo","top","body","scrollHeight","behavior"],"mappings":"gFAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAOL,EAAUM,OAAQC,EAAOP,EAAUQ,iBAEhD,MAAO,0CACHD,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOQ,aAAeR,EAASA,IAC/D,UACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOS,KAAOT,EAASA,IACvD,eACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOU,cAAgBV,EAASA,IAChE,wHACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOW,MAAQX,EAASA,IACxD,yGACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOY,MAAQZ,EAASA,IACxD,sGACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOa,SAAWb,EAASA,IAC3D,6GACAM,EAAOF,EAAkB,MAAVJ,EAAiBA,EAAOc,UAAYd,EAASA,IAC5D,qCACJ,SAAU,K,wHCpBNe,G,8BAAS,sCACTC,EACJ,sEACa,SAASC,EAAYC,EAAOC,GACzC,OAAOC,MAAM,GAAGJ,EAAUE,EAAd,SAA4BC,EAA5B,oBAAoDJ,GAC7DM,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BC,OAAM,SAAAC,GAAK,OAAIC,QAAQD,MAAMA,M,yBCA5BE,EAAcC,SAASC,cAAc,eACrCC,EAAOF,SAASC,cAAc,gBAC9BE,EAAaH,SAASC,cAAc,wBAE1CC,EAAKE,iBAAiB,UACtB,SAAsBC,GACpB,IAAKH,EAAKI,SAAS,GAAGC,MACpB,OAEFF,EAAEG,iBAEFnB,EADca,EAAKI,SAAS,GAAGC,OAE5Bd,MAAK,SAAAlB,GAAI,OAAIA,EAAKkC,QAClBhB,MAAK,SAAAiB,GACe,IAAfA,EAAIC,OACNC,IAAQf,MAAM,CACZgB,KAAM,wCAGRD,IAAQE,WAMhB,SAAwBJ,GACtB,IAAMK,EAASL,EAAIM,KAAI,SAAAC,GAAM,OAAIC,IAAcD,MAASE,KAAK,IAC7DpB,EAAYqB,UAAYL,EACxBZ,EAAWkB,UAAUC,OAAO,gBARtBC,CAAeb,UAWvBP,EAAWC,iBAAiB,SAE5B,SAAwBC,GAGtBhB,EAFca,EAAKI,SAAS,GAAGC,MAC/BhB,GAAQ,GAELE,MAAK,SAAAlB,GAAI,OAAIA,EAAKkC,QAClBhB,MAAK,SAAAiB,GAAG,OAIb,SAAuBA,GACrB,IAAMc,EAAmBd,EAAIM,KAAI,SAAAC,GAAM,OAAIC,IAAcD,MAASE,KAAK,IACvEpB,EAAY0B,mBAAmB,YAAaD,GAN7BE,CAAchB,MAC1BjB,MAAK,SAAAkC,GASRC,OAAOC,SAAS,CACdC,IAAK9B,SAAS+B,KAAKC,aACnBC,SAAU,iBAlBd,IAAI1C,EAAO,I","file":"main.6e77583d3ca29020a436.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<li class=\\\"photo-card\\\">\\r\\n  <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? depth0.webformatURL : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? depth0.tags : depth0), depth0))\n    + \"\\\" data-src=\\\"\"\n    + alias2(alias1((depth0 != null ? depth0.largeImageURL : depth0), depth0))\n    + \"\\\" />\\r\\n  <div class=\\\"stats\\\">\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? depth0.likes : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">visibility</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? depth0.views : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">comment</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? depth0.comments : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? depth0.downloads : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n  </div>\\r\\n</li>\";\n},\"useData\":true});","const APIKEY = '15377508-ff38c9d06f0ff909fbfde181e';\r\nconst baseUrl =\r\n  'https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=';\r\nexport default function fetchImages(query, page) {\r\n  return fetch(`${baseUrl}${query}&page=${page}&per_page=12&key=${APIKEY}`)\r\n    .then(response => response.json())\r\n    .catch(error => console.error(error));\r\n}\r\n","import './styles.css';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport PNotifyButtons from '../node_modules/pnotify/dist/es/PNotifyButtons.js';\nimport fetchImages from './apiService';\nimport imageTemplate from './templates/imageTemplate.hbs';\nconst galleryList = document.querySelector('#js-gallery');\nconst form = document.querySelector('#search-form');\nconst moreButton = document.querySelector('[data-action=\"load\"]');\n\nform.addEventListener('submit', handleSearch);\nfunction handleSearch(e) {\n  if (!form.elements[0].value) {\n    return;\n  }\n  e.preventDefault();\n  const query = form.elements[0].value;\n  fetchImages(query)\n    .then(data => data.hits)\n    .then(arr => {\n      if (arr.length === 0) {\n        PNotify.error({\n          text: 'Images not found. Please try again',\n        });\n      } else {\n        PNotify.closeAll();\n        OurFirstMarkup(arr);\n      }\n    });\n}\n\nfunction OurFirstMarkup(arr) {\n  const markUp = arr.map(images => imageTemplate(images)).join('');\n  galleryList.innerHTML = markUp;\n  moreButton.classList.remove('display-none');\n}\n\nmoreButton.addEventListener('click', handleMorePage);\nlet page = 1;\nfunction handleMorePage(e) {\n  const query = form.elements[0].value;\n  page += 1;\n  fetchImages(query, page)\n    .then(data => data.hits)\n    .then(arr => addMoreMarkup(arr))\n    .then(markup => scroll());\n}\n\nfunction addMoreMarkup(arr) {\n  const additionalMarkup = arr.map(images => imageTemplate(images)).join('');\n  galleryList.insertAdjacentHTML('beforeend', additionalMarkup);\n}\n\nfunction scroll() {\n  window.scrollTo({\n    top: document.body.scrollHeight,\n    behavior: 'smooth',\n  });\n}"],"sourceRoot":""}